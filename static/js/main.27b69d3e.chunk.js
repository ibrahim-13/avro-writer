(this["webpackJsonpavro-writer"]=this["webpackJsonpavro-writer"]||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),c=(n(16),n(6)),i=n.n(c),s=n(9),u=n(5),g=n(1);n(18);function m(e){return r.a.createElement("div",{className:"github-link"},r.a.createElement("img",{width:"30px",height:"30px",src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"github-logo"}),r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.label))}function v(){var e=r.a.useState(!0),t=Object(g.a)(e,2),n=t[0],a=t[1];return n?r.a.createElement("div",{className:"header"},r.a.createElement("h2",{className:"header-label"},"Avro Writer",r.a.createElement("span",{className:"header-comment"},"Avro in PWA"),r.a.createElement("span",{className:"header-cross-btn"},r.a.createElement("button",{onClick:function(){return a(!1)}},r.a.createElement("b",null,"X")))),r.a.createElement("div",{className:"header-links"},r.a.createElement(m,{label:"Avro-Pad",link:"https://github.com/omicronlab/avro-pad/"}),r.a.createElement(m,{label:"Avro Writer",link:"https://github.com/ibrahim-13/avro-writer"}))):r.a.createElement("button",{className:"header-btn",onClick:function(){return a(!0)}},r.a.createElement("b",null,"Avro Writer"))}function d(){return r.a.createElement("div",{className:"info-keybinding"},"(CTRL + . to Toggle Language, arrow keys to traverse suggestions)")}var h={get LangSelection(){return window.localStorage.getItem("avrowriter/lang")},set LangSelection(e){null===e?window.localStorage.removeItem("avrowriter/lang"):window.localStorage.setItem("avrowriter/lang",e)}};function p(e){return r.a.createElement("div",{className:"suggestion"},e.suggestions&&e.suggestions.words.length>0?e.suggestions.words.map((function(t,n){var a;return r.a.createElement("div",{key:t,style:{cursor:"pointer"},className:"suggest".concat((null===(a=e.suggestions)||void 0===a?void 0:a.prevSelection)===n?" selected":""),onClick:function(){var n;return null===(n=e.onSelect)||void 0===n?void 0:n.call(e,t)}},t)})):r.a.createElement("div",{className:"suggest"},"No suggestion"))}var b=n(10),f="".concat("/avro-writer","/avro.worker.js"),w=new Worker(f),E=Object(b.a)(w);var k=function(){var e=r.a.useRef(null),t=r.a.useState(h.LangSelection||"bn"),n=Object(g.a)(t,2),a=n[0],o=n[1],l=r.a.useState(),c=Object(g.a)(l,2),m=c[0],b=c[1],f=r.a.useCallback((function(e){var t="lang_en"===e.target.id?"en":"bn";h.LangSelection=t,o(t),b(void 0)}),[]),w=r.a.useCallback((function(t){if(e.current){var n=e.current.value.split(" ");n[n.length-1]=t,e.current.value=n.join(" ")+" "}}),[]);r.a.useEffect((function(){var e=function(e){if("."===e.key&&e.ctrlKey){var t="en"===h.LangSelection?"bn":"en";h.LangSelection=t,o(t)}};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[]);var k=r.a.useCallback((function(e){e.persist();var t=e.key.toLowerCase();"arrowright"===t?b((function(t){if(t){e.preventDefault(),e.stopPropagation();var n=t.prevSelection+1;return n=n===t.words.length?0:n,Object(u.a)(Object(u.a)({},t),{},{prevSelection:n})}return t})):"arrowleft"===t&&b((function(t){if(t){e.preventDefault(),e.stopPropagation();var n=t.prevSelection-1;return n=-1===n?t.words.length-1:n,Object(u.a)(Object(u.a)({},t),{},{prevSelection:n})}return t}))}),[]);function S(){return(S=Object(s.a)(i.a.mark((function e(t){var n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,"bn"===a){e.next=3;break}return e.abrupt("return");case 3:if(!n.endsWith("\n")||!m){e.next=7;break}return w(m.words[m.prevSelection]),b(void 0),e.abrupt("return");case 7:return r=n.split(" "),o=r[r.length-1],e.t0=b,e.next=12,E.getSuggestion(o);case 12:e.t1=e.sent,(0,e.t0)(e.t1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"writer"},r.a.createElement(v,null),r.a.createElement("form",{className:"lang-form"},r.a.createElement("input",{type:"radio",id:"lang_en",name:"lang",value:"en",onChange:f,checked:"en"===a}),r.a.createElement("label",{htmlFor:"lang_en"},"English"),r.a.createElement("input",{type:"radio",id:"lang_bn",name:"lang",value:"bn",onChange:f,checked:"bn"===a}),r.a.createElement("label",{htmlFor:"lang_bn"},"\u09ac\u09be\u0982\u09b2\u09be")),r.a.createElement(d,null),r.a.createElement(p,{suggestions:m,onSelect:w}),r.a.createElement("textarea",{ref:e,className:"text-area",wrap:"hard",defaultValue:"",onKeyDown:k,onChange:function(e){return S.apply(this,arguments)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.27b69d3e.chunk.js.map